<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Organizador de Parciales</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f6f8; padding: 20px; }
    h1 { text-align: center; }
    .card { background: white; padding: 15px; border-radius: 12px; margin-bottom: 20px; }
    input, button { padding: 8px; margin: 5px 0; width: 100%; }
    ul { list-style: none; padding: 0; }
    li { margin: 5px 0; }
    .done { text-decoration: line-through; color: gray; }
    .parcial { border: 1px solid #ddd; border-radius: 10px; padding: 10px; margin-bottom: 15px; }
    .parcial h3 { margin: 0 0 5px 0; }
  </style>
</head>
<body><h1>ğŸ“š Organizador de Parciales</h1><div class="card">
  <h2>Nuevo parcial</h2>
  <input type="text" id="nombreParcial" placeholder="Ej: MorfologÃ­a - Miembro Inferior" />
  <input type="date" id="fechaParcial" />
  <button onclick="crearParcial()">Crear parcial</button>
</div><div id="contenedorParciales"></div><script>
  let parciales = JSON.parse(localStorage.getItem('parciales')) || [];

  function guardar() {
    localStorage.setItem('parciales', JSON.stringify(parciales));
  }

  function crearParcial() {
    const nombre = document.getElementById('nombreParcial').value;
    const fecha = document.getElementById('fechaParcial').value;
    if (!nombre || !fecha) return;

    parciales.push({
      nombre,
      fecha,
      temas: []
    });

    document.getElementById('nombreParcial').value = '';
    document.getElementById('fechaParcial').value = '';

    guardar();
    render();
  }

  function agregarTema(pIndex) {
    const input = document.getElementById(`tema-${pIndex}`);
    if (!input.value) return;
    parciales[pIndex].temas.push({ nombre: input.value, hecho: false });
    input.value = '';
    guardar();
    render();
  }

  function toggleTema(pIndex, tIndex) {
    const tema = parciales[pIndex].temas[tIndex];
    tema.hecho = !tema.hecho;
    guardar();
    render();
  }

  function calcularDDay(fecha) {
    const hoy = new Date();
    const parcial = new Date(fecha);
    const diff = parcial - hoy;
    return Math.ceil(diff / (1000 * 60 * 60 * 24));
  }

  function render() {
    const cont = document.getElementById('contenedorParciales');
    cont.innerHTML = '';

    parciales.forEach((parcial, pIndex) => {
      const div = document.createElement('div');
      div.className = 'parcial';

      div.innerHTML = `
        <h3>ğŸ“ ${parcial.nombre}</h3>
        <p>ğŸ“… D-DAY: ${calcularDDay(parcial.fecha)} dÃ­as</p>
        <input type="text" id="tema-${pIndex}" placeholder="Agregar tema" />
        <button onclick="agregarTema(${pIndex})">Agregar</button>
        <ul>
          ${parcial.temas.map((t, tIndex) => `
            <li>
              <input type="checkbox" ${t.hecho ? 'checked' : ''}
                onchange="toggleTema(${pIndex}, ${tIndex})" />
              <span class="${t.hecho ? 'done' : ''}">${t.nombre}</span>
            </li>
          `).join('')}
        </ul>
      `;

      cont.appendChild(div);
    });
  }

  render();
</script></body>
</html>
  
